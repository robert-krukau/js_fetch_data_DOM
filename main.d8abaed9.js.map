{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","url","body","document","querySelector","listOfPhones","createElement","description","title","titleDescr","className","innerHTML","insertAdjacentElement","getPhones","fetch","then","response","ok","setTimeout","Error","status","statusText","json","getPhonesDetails","phone","addEventListener","e","findDiv","findImg","remove","target","closest","createDetails","image","classList","add","details","filter","item","innerText","name","phoneImgUrl","imageUrl","snippet","src","alt","append","createList","phones","forEach","insertAdjacentHTML","catch"],"mappings":";AAAA,aAEA,IAAMA,EACJ,mEACIC,EAASD,GAAAA,OAAAA,EAAf,SAEME,EAAOC,SAASC,cAAc,QAC9BC,EAAeF,SAASG,cAAc,MACtCC,EAAcJ,SAASG,cAAc,OACrCE,EAAQL,SAASG,cAAc,MAC/BG,EAAaN,SAASG,cAAc,MAE1CD,EAAaK,UAAY,OACzBH,EAAYG,UAAY,OAExBF,EAAMG,UAAY,eAClBF,EAAWE,UAAY,eAEvBT,EAAKU,sBAAsB,aAAcP,GACzCH,EAAKU,sBAAsB,YAAaL,GACxCF,EAAaO,sBAAsB,aAAcJ,GACjDD,EAAYK,sBAAsB,aAAcH,GAEhD,IAAMI,EAAY,WACTC,OAAAA,MAAMb,GACVc,KAAK,SAAAC,GAOGA,OANFA,EAASC,IACZC,WAAW,WACH,MAAA,IAAIC,MAASH,GAAAA,OAAAA,EAASI,OAAYJ,OAAAA,OAAAA,EAASK,cAChD,KAGEL,EAASM,UAIhBC,EAAmB,SAACC,GACxBnB,EAAaoB,iBAAiB,QAAS,SAACC,GAChCC,IAAAA,EAAUzB,EAAKE,cAAc,YAC7BwB,EAAU1B,EAAKE,cAAc,UAO/BsB,GALAC,GAAWC,IACbD,EAAQE,SACRD,EAAQC,UAGNH,EAAEI,OAAOC,QAAQ,MAAO,CACpBC,IAAAA,EAAgB7B,SAASG,cAAc,KACvC2B,EAAQ9B,SAASG,cAAc,OAErC0B,EAAcE,UAAUC,IAAI,WAC5BF,EAAMC,UAAUC,IAAI,SAEdC,IAAAA,EAAUZ,EACba,OAAO,SAAAC,GAAQZ,OAAAA,EAAEI,OAAOS,YAAcD,EAAKE,OAExCC,EACF,yDACGL,GAAAA,OAAAA,EAAQ,GAAGM,UAElBV,EAAcO,UAAYH,EAAQ,GAAGO,QACrCV,EAAMW,IAAMH,EACZR,EAAMY,IAAM,cACZtC,EAAYuC,OAAOd,GACnBzB,EAAYuC,OAAOb,OAKnBc,EAAa,SAACC,GAOXA,OANPA,EAAOC,QAAQ,SAAAX,GACbjC,EAAa6C,mBAAmB,YACPZ,gCAAAA,OAAAA,EAAKE,KAD9B,kBAKKQ,GAGTnC,IACGE,KAAK,SAAAiC,GAAUD,OAAAA,EAAWC,KAC1BjC,KAAK,SAACuB,GAASf,OAAAA,EAAiBe,KAChCa","file":"main.d8abaed9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst BASE_URL\n= 'https://mate-academy.github.io/phone-catalogue-static/api/phones';\nconst url = `${BASE_URL}.json`;\n\nconst body = document.querySelector('body');\nconst listOfPhones = document.createElement('ul');\nconst description = document.createElement('div');\nconst title = document.createElement('h2');\nconst titleDescr = document.createElement('h2');\n\nlistOfPhones.className = 'list';\ndescription.className = 'list';\n\ntitle.innerHTML = 'Phones List:';\ntitleDescr.innerHTML = 'Description:';\n\nbody.insertAdjacentElement('afterbegin', listOfPhones);\nbody.insertAdjacentElement('beforeend', description);\nlistOfPhones.insertAdjacentElement('afterbegin', title);\ndescription.insertAdjacentElement('afterbegin', titleDescr);\n\nconst getPhones = () => {\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        setTimeout(() => {\n          throw new Error(`${response.status} - ${response.statusText}`);\n        }, 5000);\n      }\n\n      return response.json();\n    });\n};\n\nconst getPhonesDetails = (phone) => {\n  listOfPhones.addEventListener('click', (e) => {\n    const findDiv = body.querySelector('.details');\n    const findImg = body.querySelector('.image');\n\n    if (findDiv && findImg) {\n      findDiv.remove();\n      findImg.remove();\n    }\n\n    if (e.target.closest('li')) {\n      const createDetails = document.createElement('p');\n      const image = document.createElement('img');\n\n      createDetails.classList.add('details');\n      image.classList.add('image');\n\n      const details = phone\n        .filter(item => e.target.innerText === item.name);\n\n      const phoneImgUrl\n        = `https://mate-academy.github.io/phone-catalogue-static/`\n        + `${details[0].imageUrl}`;\n\n      createDetails.innerText = details[0].snippet;\n      image.src = phoneImgUrl;\n      image.alt = 'Phone image';\n      description.append(createDetails);\n      description.append(image);\n    }\n  });\n};\n\nconst createList = (phones) => {\n  phones.forEach(item => {\n    listOfPhones.insertAdjacentHTML('beforeend', `\n    <li class=\"list__item\">${item.name}</li>\n    `);\n  });\n\n  return phones;\n};\n\ngetPhones()\n  .then(phones => createList(phones))\n  .then((item) => getPhonesDetails(item))\n  .catch();\n"]}